{"uid":"fef75344f8684868","name":"Изменить запись о сотруднике в БД","fullName":"lesson_10.employee_db_test#test_update_employee","historyId":"9414923a57e355a146ba14ea95266413","time":{"start":1719427922096,"stop":1719427927036,"duration":4940},"description":"Изменить запись о сотруднике в БД и проверить, что данные обновились","descriptionHtml":"<p>Изменить запись о сотруднике в БД и проверить, что данные обновились</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"Изменить запись о сотруднике в БД и проверить, что данные обновились","status":"passed","steps":[{"name":"Создать команию в БД, указав имя 'Company to delete' и описание 'Random descr'","time":{"start":1719427922096,"stop":1719427922714,"duration":618},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"name","value":"'Company to delete'"},{"name":"descr","value":"'Random descr'"}],"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false,"attachmentStep":false,"stepsCount":0},{"name":"Получить из БД id последней созданной компании","time":{"start":1719427922714,"stop":1719427923359,"duration":645},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false,"attachmentStep":false,"stepsCount":0},{"name":"Создать в БД сотрудника в компании с id 13120, указав имя 'Emily', фамилию 'Kotikova', телефон 'no_phone'","time":{"start":1719427923359,"stop":1719427923970,"duration":611},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"first_name","value":"'Emily'"},{"name":"surname","value":"'Kotikova'"},{"name":"phone","value":"'no_phone'"},{"name":"id","value":"13120"}],"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false,"attachmentStep":false,"stepsCount":0},{"name":"Получить из БД id 13120 последнего созданного сотрудника","time":{"start":1719427923970,"stop":1719427924566,"duration":596},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"id","value":"13120"}],"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false,"attachmentStep":false,"stepsCount":0},{"name":"Изменить в БД запись о сотруднике с id 8819, указав новое имя 'Ophelia'","time":{"start":1719427924566,"stop":1719427925198,"duration":632},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"id","value":"8819"},{"name":"name","value":"'Ophelia'"}],"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false,"attachmentStep":false,"stepsCount":0},{"name":"Получить из БД информацию о сотруднике по id 8819","time":{"start":1719427925198,"stop":1719427925796,"duration":598},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"id","value":"8819"}],"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false,"attachmentStep":false,"stepsCount":0},{"name":"Удалить в БД запись о сотруднике с id 8819","time":{"start":1719427925796,"stop":1719427926408,"duration":612},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"id","value":"8819"}],"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false,"attachmentStep":false,"stepsCount":0},{"name":"Удалить в БД компанию с id 13120","time":{"start":1719427926408,"stop":1719427927036,"duration":628},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"id","value":"13120"}],"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false,"attachmentStep":false,"stepsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false,"attachmentStep":false,"stepsCount":8},"afterStages":[],"labels":[{"name":"severity","value":"major"},{"name":"feature","value":"PATCH"},{"name":"story","value":"Библиотеки requests и SQLAlchemy"},{"name":"as_id","value":"LSN10-10"},{"name":"suite","value":"requests и SQLAlchemy"},{"name":"epic","value":"Создание API тестов и БД тестов"},{"name":"parentSuite","value":"lesson_10"},{"name":"host","value":"WIN-23U9CGMVGUG"},{"name":"thread","value":"9484-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"lesson_10.employee_db_test"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":2,"unknown":0,"total":4},"items":[{"uid":"26dc2519b6563adc","status":"broken","statusDetails":"IndexError: list index out of range","time":{"start":1719427693676,"stop":1719427698600,"duration":4924}},{"uid":"52260296e43fa783","status":"broken","statusDetails":"sqlalchemy.exc.IntegrityError: (psycopg2.errors.ForeignKeyViolation) insert or update on table \"employee\" violates foreign key constraint \"FK_3f25598a5f106392263f58a2eb2\"\nDETAIL:  Key (company_id)=(13092) is not present in table \"company\".\n\n[SQL: INSERT INTO employee (first_name, last_name, phone, company_id) VALUES (%(f_name)s, %(l_name)s, %(ph)s, %(comp_id)s)]\n[parameters: {'f_name': 'Emily', 'l_name': 'Kotikova', 'ph': 'no_phone', 'comp_id': 13092}]\n(Background on this error at: https://sqlalche.me/e/14/gkpj)","time":{"start":1719427399170,"stop":1719427401156,"duration":1986}},{"uid":"72da39393f7b61f5","status":"passed","time":{"start":1719426475428,"stop":1719426480680,"duration":5252}}]},"tags":[]},"source":"fef75344f8684868.json","parameterValues":[]}